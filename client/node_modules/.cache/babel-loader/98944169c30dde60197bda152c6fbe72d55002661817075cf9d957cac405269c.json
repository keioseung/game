{"ast":null,"code":"var _jsxFileName = \"/workspaces/game/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport io from 'socket.io-client';\nimport StatusBar from './components/StatusBar';\nimport Inventory from './components/Inventory';\nimport Chat from './components/Chat';\nimport Map from './components/Map';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:3001');\nfunction App() {\n  _s();\n  const [meId, setMeId] = useState(null);\n  const [player, setPlayer] = useState(null);\n  const [players, setPlayers] = useState({});\n  const [monsters, setMonsters] = useState([]);\n  const [items, setItems] = useState([]);\n  const [chatLog, setChatLog] = useState([]);\n  const [map, setMap] = useState([]);\n  const [name, setName] = useState('');\n  const [joined, setJoined] = useState(false);\n  useEffect(() => {\n    socket.on('connect', () => setMeId(socket.id));\n    socket.on('state', ({\n      players,\n      monsters,\n      items,\n      chatLog,\n      map\n    }) => {\n      setPlayers(players);\n      setPlayer(players[socket.id]);\n      setMonsters(monsters);\n      setItems(items);\n      setChatLog(chatLog);\n      setMap(map);\n    });\n    return () => socket.disconnect();\n  }, []);\n  const handleJoin = () => {\n    if (name) {\n      socket.emit('join', {\n        name\n      });\n      setJoined(true);\n    }\n  };\n  const handleMove = useCallback(dir => {\n    socket.emit('move', dir);\n  }, []);\n  const handleAttack = useCallback(() => {\n    socket.emit('attack');\n  }, []);\n  const handleChat = msg => {\n    socket.emit('chat', msg);\n  };\n  if (!joined) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 40\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"2D MMORPG (\\uB808\\uBCA8/\\uACBD\\uD5D8\\uCE58/\\uC778\\uBCA4\\uD1A0\\uB9AC/\\uCC44\\uD305/\\uB9F5)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: name,\n        onChange: e => setName(e.target.value),\n        placeholder: \"\\uB2C9\\uB124\\uC784 \\uC785\\uB825\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleJoin,\n        children: \"\\uAC8C\\uC784 \\uC2DC\\uC791\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 700,\n      margin: '0 auto',\n      fontFamily: 'sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(StatusBar, {\n      player: player\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Map, {\n      map: map,\n      players: players,\n      monsters: monsters,\n      items: items,\n      meId: meId,\n      onMove: handleMove,\n      onAttack: handleAttack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Inventory, {\n      inventory: (player === null || player === void 0 ? void 0 : player.inventory) || []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Chat, {\n      chatLog: chatLog,\n      onSend: handleChat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#888',\n        fontSize: 12,\n        marginTop: 8\n      },\n      children: \"\\uBC29\\uD5A5\\uD0A4: \\uC774\\uB3D9 / \\uC2A4\\uD398\\uC774\\uC2A4: \\uACF5\\uACA9 / \\uCC44\\uD305 \\uC785\\uB825 \\uD6C4 Enter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"C8CCcEQI2I+hXJ4gL5n7PFFC8vg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","io","StatusBar","Inventory","Chat","Map","jsxDEV","_jsxDEV","socket","App","_s","meId","setMeId","player","setPlayer","players","setPlayers","monsters","setMonsters","items","setItems","chatLog","setChatLog","map","setMap","name","setName","joined","setJoined","on","id","disconnect","handleJoin","emit","handleMove","dir","handleAttack","handleChat","msg","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","onClick","maxWidth","margin","fontFamily","onMove","onAttack","inventory","onSend","color","fontSize","marginTop","_c","$RefreshReg$"],"sources":["/workspaces/game/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport io from 'socket.io-client';\r\nimport StatusBar from './components/StatusBar';\r\nimport Inventory from './components/Inventory';\r\nimport Chat from './components/Chat';\r\nimport Map from './components/Map';\r\n\r\nconst socket = io('http://localhost:3001');\r\n\r\nfunction App() {\r\n  const [meId, setMeId] = useState(null);\r\n  const [player, setPlayer] = useState(null);\r\n  const [players, setPlayers] = useState({});\r\n  const [monsters, setMonsters] = useState([]);\r\n  const [items, setItems] = useState([]);\r\n  const [chatLog, setChatLog] = useState([]);\r\n  const [map, setMap] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [joined, setJoined] = useState(false);\r\n\r\n  useEffect(() => {\r\n    socket.on('connect', () => setMeId(socket.id));\r\n    socket.on('state', ({ players, monsters, items, chatLog, map }) => {\r\n      setPlayers(players);\r\n      setPlayer(players[socket.id]);\r\n      setMonsters(monsters);\r\n      setItems(items);\r\n      setChatLog(chatLog);\r\n      setMap(map);\r\n    });\r\n    return () => socket.disconnect();\r\n  }, []);\r\n\r\n  const handleJoin = () => {\r\n    if (name) {\r\n      socket.emit('join', { name });\r\n      setJoined(true);\r\n    }\r\n  };\r\n\r\n  const handleMove = useCallback((dir) => {\r\n    socket.emit('move', dir);\r\n  }, []);\r\n\r\n  const handleAttack = useCallback(() => {\r\n    socket.emit('attack');\r\n  }, []);\r\n\r\n  const handleChat = (msg) => {\r\n    socket.emit('chat', msg);\r\n  };\r\n\r\n  if (!joined) {\r\n    return (\r\n      <div style={{ padding: 40 }}>\r\n        <h2>2D MMORPG (레벨/경험치/인벤토리/채팅/맵)</h2>\r\n        <input value={name} onChange={e => setName(e.target.value)} placeholder=\"닉네임 입력\" />\r\n        <button onClick={handleJoin}>게임 시작</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ maxWidth: 700, margin: '0 auto', fontFamily: 'sans-serif' }}>\r\n      <StatusBar player={player} />\r\n      <Map map={map} players={players} monsters={monsters} items={items} meId={meId} onMove={handleMove} onAttack={handleAttack} />\r\n      <Inventory inventory={player?.inventory || []} />\r\n      <Chat chatLog={chatLog} onSend={handleChat} />\r\n      <div style={{ color: '#888', fontSize: 12, marginTop: 8 }}>\r\n        방향키: 이동 / 스페이스: 공격 / 채팅 입력 후 Enter\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}